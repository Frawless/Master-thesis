% (c) Jakub Stejskal
% Master Thesis
% Performance Testing and Analysis of Qpid-Dispatch Router
% Chapter 8

\chapter{Summary}
\label{Summary}
In this work we described the fundamentals of performance testing, common performance metrics and bugs and selected related tools. Further, we introduced the architecture and functionality of Messaging Performance Tool (MPT) called Maestro. Main part of this work is about the proposal and implementation extensions for Maestro, especially new components Maestro Agent and AMQP Inspector. The implementation of these components was necessary to proper performance testing of Qpid-Dispatch router. Moreover, we designed and implemented the Topology Generator tool, which is going to be used for semi-automatic topology configuration generation, which will significantly simplify the testing phase.

The design was changed multiple times during this work according the needs of the performance testing of Qpid-Dispatch but also of Maestro itself. For example the Maestro Agent was initially designed as a component which can control the router, but after some discussions and implementation start we decided to create Maestro Agent as independent code handler on the SUT node. This allows router control, but also control of any other software on the node easily by external Groovy scripts available in any public git repository.

AMQP Inspector was added to the design after the Agent development when we realized that is more efficient to create a new component for router inspection. It is possible to use Maestro Agent and parse the string output of external tool which can inspect the router, but it is not comfortable to send the long output through the Maestro Broker and then parse it. The result was the AMQP Inspector as a new component, which only need path to the router and then is able to collect and parse data about the SUT.

After the implementation was need to test new extensions and create performance analysis of Qpid-Dispatch. We perform the collection of measurements against several topologies generated by Topology Generator. We decided to pick small topologies which can offers interesting results about the performance of Qpid-Dispatch and we compare the results with component Message Broker. The experimental evaluation was described in the last part of this work where we also discussed the results and the performance degradations which were found.

The code of the work is published as an open-source and is available on GitHub repository. All developed extensions was already merged into the upstream version of Maestro and will be available since the version 1.3.0, which is already used for performance testing of MOM by Red Hat company. The preliminary results of this work were presented and published in the paper for Excel@FIT\footnote{Excel@FIT\,---\,IT conference for students and theirs work \url{http://excel.fit.vutbr.cz/}} conference.

%During term project is collected relative information about performance testing. This information are processed and recorded in this work in the Chaper \ref{Fundamentals of Software Performance Testing}. I~also get introduction into functionality of Messaging Performance Tool which is going to be upgraded and used for performance testing of Qpid-Dispatch. In the Chaper \ref{Analysis and Design} I~summarized design of necessary upgrades for MPT and design of Topology Generator which going to be used for semi-automatic topology configuration generation and together with automatic deployment on testing nodes. Topology is currently implemented, tested and published under version 0.1.10. Current version is able to generate any topology by manner as is described in the Chapter \ref{Analysis and Design}. Link to public source-code is available in \ref{Topology Generator Source Code}.

%Next step of this thesis will lead to implement module for Qpid-Dispatch performance testing, integrated it into MPT and improved Topology Generator.After this, I~will be ready for proper performance testing of Qpid-Dispatch with data analysis.

%=========================================================================
